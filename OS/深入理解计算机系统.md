# 第1章 计算机系统漫游

计算机系统是由软件和硬件构成的，它们共同工作来运行程序。

## 1.1 信息就是位+上下文

    #include<stdio.h>
    int main(){
      printf("hello, world\n");
      return 0;
    }

hello程序的生命周期是从源程序（源文件）开始的。程序员通过编辑器创建并保存的文本文件，名称是hello.c。源程序实际上是由值0和1组成的位（bit）序列，8个位一组，称为字节。每个字节表示程序中的某些文本字符。hello.c程序是以字节序列的方式存储在文件中的，每个字节都有一个整数值。

系统中所以的信息，包括磁盘文件，内存中的程序，内存只能够存放的用户数据，网络上传送的数据，都是由一串bit表示的。

区分不同数据对象的唯一方法是我们读到这些数据的上下文。

## 1.2 程序被其他程序翻译成不同格式

为了在机器上运行hello.c程序，每条C语句都必须被其他程序转换为一系列低级机器语言指令，然后这些指令按照一种称为可执行目标程序的格式打好包，并以二进制磁盘文件的形式存放起来。目标程序也称为可执行目标文件。

hello.c 预处理-> hello.i 编译器-> hello.s 汇编器-> hello.o + printf.o 链接器-> hello：可执行目标文件（二进制）

* 预处理阶段。预处理器（cpp）根据以字符#开头的命令，修改原始的C程序，如stdio.h的内容直接插入程序文本中。
* 编译阶段。编译器（ccl）将文本文件hello.i反义词文本文件hello.s，它包含一个汇编语言程序。每条语句都以文本格式描述的一条低级机器语言指令（汇编语言）。
* 汇编阶段。汇编器（as）将hello.s翻译成机器语言指令，把这些指令打包成一种叫做可重定位目标程序（relocatable object program）格式，保存在hello.o中。hello.o是二进制文件。
* 链接阶段。hello程序调用了printf函数，它是每个C编译器提供的标准C库中的一个函数。printf函数存在于单独预编译好的printf.o文件，链接器将printf和hello合并，得到hello文件，它是一个可执行目标文件，可以被加载到内存中，由系统执行。